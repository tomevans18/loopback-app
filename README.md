# My Application

The project is generated by [LoopBack](http://loopback.io).

## Coursework Submission/Handover Notes

NOTE: I have included mongodb data in the repo to make it easier to run.

###Build a basic API using Loopback
Set-up using the ```lb``` command to create basic API project.
Then added an end point via the ```lb model``` command.

###Create a Swagger definition
Swagger created and saved to ```definitions/api.yaml```.
This was saved there to match the example project.

###Add a RESTful endpoint to your API
Completed previously via the ```lb model``` command.

###Build a model
Model, aka data, is stored within MongoDB.

###Build a controller
As part of the ```lb model``` a basic structure for the business logic files was created.
This has been extended to add the middleware response, which returns the number of times the API has been called.

###Build a view
Basic listing built within the client folder.
I didn't go too much into this as there was no view in the example repo and for this reason I did not want to waste time building something of no value.

###Add a test runner
Installed mocha, nyc, mocha, chai and sinon.
Configurations and scripts added to package.json.

###Test your model
*Test for model not compelete*

###Test your view
*Test for view not compelete*

###Test your controller
*Test for view not compelete*

###Add a piece of middleware to extend your request object
Middleware developed to count the number of time the API is called.
Basic and no real value to the output but shows the concept of middleware.

###Write tests for your middleware
*Test for middleware not compelete*

###Make a downstream request to a third party
MongoDB is called as part of the application to get the data for the movie listing.

###Test your service using stubbing
*Test for service not compelete*

###Spin up your own mock server
*Mock server not compelete*

###Test your API endpoint using mock data
*Test for API endpoint not complete*

###Add a circuit breaker
A circuit breaker was added with default values and the ability to overwrite.
This made the code more DRY.

###Add request validation
Validation complete through swagger tools, comparing the swagger yaml against the spec and then confirming through the middleware.

###Add security considerations
It was considered if all APIs needed to be exposed.
As this was a very basic application there were none that really needed to be hidden.
The Loopback Explorer has been disabled in production via the ```component-config.production.json``` file.
global CORS handler has been configured in server/middleware.json.
The Helmet npm package was also used for security best practices.
If cookies were used there would need to be additional effort such as ensuring secure signed and httpOnly cookies were used.
